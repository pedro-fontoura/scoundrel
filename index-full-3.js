const A0={viewport:null,viewport_width:0,pages_container:null,nr_pages:0,lst_pages:null,current_page_idx:0,previous_page_idx:0,client_onResize:null,client_onClick:null,mouse_or_touch:null,PAGE_FREE:0,PAGE_LANDSCAPE:1,PAGE_PORTRAIT:-1,page_before_rotate:-1,page_mode:0,page_rotate_id:0,error_node:null,error_page:null,f23:function(t,i){this.viewport=document.getElementById("AppViewport"),this.pages_container=document.getElementById("AppPagesContainer"),this.lst_pages=Array.from(document.querySelectorAll(".AppPage")),this.nr_pages=this.lst_pages.length,window.hasOwnProperty("cordova")?this.mouse_or_touch="mousedown":this.mouse_or_touch=void 0!==window.ontouchstart?"touchstart":"mousedown",A0.f18(null),this.client_onResize=t||null,this.client_onClick=i||null,window.visualViewport.addEventListener("resize",A0.f18.bind(this))},f18:function(t){this.viewport_width=this.viewport.offsetWidth,this.viewport.style.height=window.visualViewport.height+"px",this.pages_container.style.width=this.nr_pages*this.viewport_width+"px",this.pages_container.style.left=-this.current_page_idx*this.viewport.offsetWidth+"px",this.lst_pages.forEach(t=>t.style.width=this.viewport_width+"px"),this.f8(),this.f11(),null!==this.client_onResize&&this.client_onResize(this.viewport_width,this.viewport.offsetHeight)},f19:function(){return this.viewport_width},f15:function(){return this.viewport.offsetHeight},f20:function(t=""){if("string"==typeof t){var i=0,s=t;for(t=this.current_page_idx;i<this.nr_pages;){if(this.lst_pages[i].id===s){t=i;break}i++}}return this.pages_container.style.left=-t*this.viewport.offsetWidth+"px",this.previous_page_idx=this.current_page_idx,this.current_page_idx=t},f9:function(){return this.current_page_idx},f4:function(){return this.lst_pages[this.current_page_idx].id},f8:function(){this.f20(this.current_page_idx)},f5:function(){this.f20(this.current_page_idx)},f13:function(t,i){this.page_mode=t,this.page_rotate_id=i,this.f11()},f11:function(){return this.show_page=!1,this.page_mode!==this.PAGE_FREE&&(Math.sign(this.viewport.offsetWidth-this.viewport.offsetHeight)!==this.page_mode?(-1===this.page_before_rotate&&(this.page_before_rotate=this.current_page_idx),this.f20(this.page_rotate_id),this.show_page=!0):-1!==this.page_before_rotate&&(this.f20(this.page_before_rotate),this.page_before_rotate=-1,this.show_page=!0)),this.show_page||this.f8(),this.show_page},f0:function(t,i){t.addEventListener(this.mouse_or_touch,this.f21.bind(this,i)),t.addEventListener("contextmenu",this.f10.bind(this))},f6:function(t,i,s){"mousedown"===(i="MOUSE||TOUCH"===i?this.mouse_or_touch:i)&&t.addEventListener("contextmenu",this.f10.bind(this)),t.addEventListener(i,s)},f12:function(t){return t.stopPropagation(),t.preventDefault(),t.target},f21:function(t,i){this.f12(i),null!==this.client_onClick&&this.client_onClick(t,i.target)},f10:function(t){this.f12(t),t.target.click()},f1:function(t){if("serviceWorker"in navigator&&"https:"===window.location.protocol&&void 0===window.cordova){if(this.A1&&!this.A1.f22())return;navigator.serviceWorker.register(t).then(t=>{}).catch(t=>{})}},f7:function(t="AppError"){"string"==typeof t&&(t=document.getElementById(t)),this.error_node=t,this.error_page=g1(t,"section"),window.addEventListener("unhandledrejection",t=>{t.preventDefault(),this.f16("Unhandled rejection",t.reason)}),window.addEventListener("error",t=>{t.preventDefault();t=[t.error.message,t.error.fileName,t.error.lineNumber,this.f2(t.error)].join("<br>");this.f16("Error",t)})},f2:function(t){return t.stack.split(" at ").join("<br>&bull; ")},f16:function(t,i){this.error_node.innerHTML+="<h3>"+t+"</h3>"+i,null!==this.error_page&&this.f20(this.error_page.id)}};class C0{#p61=null;#p59=1/0;#p50=1/0;#p41=1/0;#p38=1/0;#p30=null;constructor(t,i=!1){this.#p61=t,!0===i?this.#p30=this.#P20():i instanceof Node&&(this.#p30=i,this.#p30.id=this.#p61,this.#p30.classList.add("FlexBoxEntity"))}#P20(){var t=document.createElement("div");return t.id=this.#p61,t.classList.add("FlexBoxEntity"),t}M90(){return this.#p61}M37(){return[this.#p59,this.#p50]}M49(){return this.#p30}f19(){return this.#p41}f15(){return this.#p38}M86(){return this.#p59}M75(){return this.#p50}f18(t,i,s,e){this.M38(s,e),this.M76(t,i)}M38(t,i){this.#p59=t,this.#p50=i,null!==this.#p30&&(this.#p30.style.top=t+"px",this.#p30.style.left=i+"px")}M76(t,i){this.#p41=t,this.#p38=i,null!==this.#p30&&(this.#p30.style.width=t+"px",this.#p30.style.height=i+"px")}}class E3 extends C0{#p9=null;#p31=null;#p42=null;#p8=[];constructor(t,i,s,e,h=!1){super(t,h),this.#p9=i,this.#p31=s,this.#p42=e,h&&this.M49().classList.add("FlexBox")}M59(t,i=!0){this.#p8[i?"push":"unshift"](t),this.M1()}M28(t){g2(this.#p8,t),this.M1()}f18(t,i,s,e,h=0,n=0){super.f18(t,i,s,e),0<h&&0<n&&this.M7(h,n),this.M1()}M7(i,s){0<this.#p8.length&&this.#p8.forEach(t=>t.M76(i,s))}M1(){var i,s,e,h;0!==this.#p8.length&&(s=i=0,this.#p8.forEach(t=>{i+=t.f19(),s+=t.f15()}),i!==1/0)&&s!==1/0&&("row"===this.#p9?(e=this.#P4(this.#p31)(!0,"width",i),h=this.#P4(this.#p42)(!1,"height",s)):(h=this.#P4(this.#p31)(!0,"height",s),e=this.#P4(this.#p42)(!1,"width",i)),this.#p8.forEach(t=>{t.M38(h.shift(),e.shift())}))}M25(i){this.#p8.forEach(t=>i(t))}#P4(t){return"center"===t?this.#P0.bind(this):"start"===t?this.#P2.bind(this):"end"===t?this.#P3.bind(this):"evenly"===t?this.#P1.bind(this):void 0}#P5(t,i){for(var s,e="width"===i?this.M75():this.M86(),h=[],n=0;n<this.#p8.length;++n)t&&0<n&&(s=this.#p8[n-1],e+="width"===i?s.f19():s.f15()),h.push(e);return h}#P2(t,i,s){return this.#P5(t,i)}#P0(t,i,s){for(var e,h=this.#P5(t,i),n=this.#p8.length,p="width"===i?this.f19():this.f15(),r=Math.round((p-s)/2),l=0;l<n;++l)t?h[l]+=r:(e=this.#p8[l],h[l]+=Math.round((p-("width"===i?e.f19():e.f15()))/2));return h}#P3(t,i,s){for(var e,h=this.#P5(t,i),n=this.#p8.length,p="width"===i?this.f19():this.f15(),r=Math.round(p-s),l=0;l<n;++l)t?h[l]+=r:(e=this.#p8[l],h[l]+=p-("width"===i?e.f19():e.f15()));return h}#P1(t,i,s){for(var e=this.#P5(t,i),h=this.#p8.length,t="width"===i?this.f19():this.f15(),n=Math.round((t-s)/(h+1)),p=0;p<h;++p)e[p]+=(p+1)*n;return e}M8(t){this.#p8=t(this.#p8)}}function g14(t){return document.getElementById(t)}function g12(t,i){return(i=i||document).getElementsByTagName(t)[0]}function g13(t,i){return(i=i||document).getElementsByTagName(t)}function g10(t,i=document){return i.querySelector(t)}function g11(t,i=document){return i.querySelectorAll(t)}function g1(t,i){for(i=i.toUpperCase();null!==t&&t.tagName!==i;)t=t.parentNode;return t}function g15(s,e=null){return new Promise((t,i)=>setTimeout(t,s,e))}function g6(i,t){t.forEach(t=>null!==t&&i.appendChild(t))}function g3(t,i=null,s=null,e=null){t=new URL(window.location).searchParams.get(t);return null===t||(null!==s&&"string"!==s&&("int"===s?t=h(t=parseInt(t,10),e):"float"===s?t=h(t=parseFloat(t,10),e):"boolean"===s?t=Boolean(parseInt(t,10)):"uppercase"===s?t=t.toUpperCase():"lowercase"===s&&(t=t.toLowerCase())),["string","uppercase","lowercase"].includes(s)&&null!==e&&!e.includes(t))?i:t;function h(t,i){var s;return null!==i&&(s=i[0],i=i[1],t<s?t=s:i<t&&(t=i)),t}}function g9(t,i){t=getComputedStyle(document.documentElement).getPropertyValue("--"+t.split("--").pop()).trim();return i?parseInt(t,10):t}function g7(t){for(var i=t.length-1;0<i;i--){var s=Math.floor(Math.random()*(i+1)),e=t[i];t[i]=t[s],t[s]=e}}function g8(t){return t.concat()}function g2(t,i){return t.includes(i)?t.splice(t.indexOf(i),1).pop():null}function g4(t,i){return i>=t.length?null:t.splice(i,1).pop()}function g0(t){return g4(t,Math.f17(0,t.length-1))}function g5(t){return t[Math.f17(0,t.length-1)]}A0.A1={},A0.A1.f22=function(){return 0<navigator.maxTouchPoints},A0.A1.f24=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},A0.A1.f3=function(){document.fullscreenElement||!this.f22()||this.f24()||document.documentElement.requestFullscreen instanceof Function&&document.documentElement.requestFullscreen({navigationUI:"hide"})},Math.f17=function(t,i){return Math.floor(Math.random()*(i-t+1))+t},Math.f14=function(t,i){return t+Math.random()*(i-t)};class E4 extends C0{#p61=null;#p51=-1;#p43=-1;#p44=-1;#p32=!0;#p23=!1;#p0=!0;#p24=null;constructor(t,i,s){super("Card_"+t,!0),this.#p61=t,this.#p51=i.id,this.#p43=s.nr,this.#p44=i.color,this.e_body=null,this.e_face=null,this.e_back=null,this.e_value=null,this.e_value_nr=null,this.e_suit=null,this.M67(s.symbol,s.nr),this.#p51===k11?this.e_suit.innerHTML="<img src='images/triton-head.svg'>":this.#p51===k5?this.e_suit.innerHTML="<img src='images/daemon-skull.svg'>":this.#p51===k4?this.e_suit.innerHTML="<img src='images/health-potion.svg'>":this.#p51===k3?this.e_suit.innerHTML="<img src='images/sword-spin.svg'>":this.e_suit.innerHTML=i.symbol,this.e_value.classList.add("Suit_"+k13[this.#p51]),this.e_face.classList.add("Suit_"+k13[this.#p51]),this.M9(this.#p0)}M15(){return this.e_body}M9(t){(this.#p0=t)&&(this.M78()||this.M91())?this.e_value_nr.classList.remove("Hidden"):this.e_value_nr.classList.add("Hidden")}M67(t,i){this.e_body=document.createElement("div"),this.e_body.classList.add("CardBody"),this.e_body.classList.add("Clickable"),this.e_face=document.createElement("div"),this.e_face.classList.add("CardFace"),this.e_body.appendChild(this.e_face),this.e_back=document.createElement("div"),this.e_back.classList.add("CardBack"),this.e_body.appendChild(this.e_back),this.e_value=document.createElement("p"),this.e_value.classList.add("CardValue"),this.e_value.classList.add("CardValue"+this.#p44);var s=document.createElement("span"),i=(s.innerHTML=i,this.e_value.appendChild(s),this.e_face.appendChild(this.e_value),this.e_value_nr=document.createElement("span"),this.e_value.appendChild(this.e_value_nr),this.e_suit=document.createElement("p"),this.e_suit.classList.add("CardSuit"),this.e_suit.classList.add("CardSuit"+this.#p44),this.e_face.appendChild(this.e_suit),this.#p32||this.e_body.classList.add("FaceDown"),this.M49());i.classList.add("Card"),i.classList.add("CardSmooth"),i.appendChild(this.e_body)}M68(){return this.#p43}M77(){return this.#p51}M69(){return this.#p44}M76(t,i){super.M76(t,i),this.e_value.style.fontSize=Math.round(.3*t)+"px",this.e_value.children.length&&(this.e_value.children[1].style.fontSize=Math.round(.2*t)+"px"),this.e_suit.style.fontSize=Math.round(.4*t)+"px";i=g12("img",this.e_suit);null!==i&&(i.style.width=i.style.height=Math.round(.75*t)+"px")}M60(t){this.#p32=t,this.e_body.classList[t?"remove":"add"]("FaceDown")}M39(t){this.#p23=t,this.e_body.classList[t?"add":"remove"]("CardSelected")}M16(){return this.M39(!this.#p23),this.#p23}M40(t){this.#p24=t}M94(t){return this.#p24===t}M41(){return this.#p24}M78(){return[k14,k7,k15].includes(this.#p43)}M50(){return this.M78()}M79(){return this.#p43===k6}M91(){return this.#p43===k19}M70(){return this.#p32}M51(){return this.#p23}M61(t){this.M49().classList[t?"add":"remove"]("CardHidden")}M62(t){this.M49().classList[t?"add":"remove"]("CardSmooth")}M63(t){this.M49().style.zIndex=t}M29(){return this.M78()||this.M91()}M92(){return this.#p51===k4||this.#p51===k3}M80(){return this.#p51===k5||this.#p51===k11}M71(){return this.#p51===k4}M52(){return this.#p51===k3}}class C2{#p25=null;#p16=null;#p52=null;#p53=null;#p54=!1;#p55=null;#p11=null;#p33=null;#p34=null;#p56=null;#p45=null;#p26=!0;#p27=-1;#p46=0;#p17=!1;constructor(){this.clicked_card=null,A0.f23(this.#P28.bind(this),this.#P31.bind(this)),A0.f7(),this.#P21(),this.#p25=g14("GameViewport"),this.#p16=new C1(k17),this.#p52=new C5(g14("MenuPannel"),g14("MenuIcon")),this.#p53=new C4(k18),this.#p11=new E2("CardPiles"),this.#p55=this.#p11.M48(),this.#p34=this.#p11.M24(),this.#p33=new E1("Dungeon",k2),this.#p56=new E1("Hand",1/0),this.#p45=new C3(g14("InGameInfo"),k10,k9),g14("Play").appendChild(this.#p16.M49()),this.#p25.appendChild(this.#p33.M49()),this.#p25.appendChild(this.#p56.M49()),g6(this.#p25,this.#p11.M45()),A0.f6(window,"contextmenu",A0.f12.bind(A0)),A0.f0(g14("HomeCard"),null),A0.f0(g14("MenuIcon"),null),this.#p52.M45().forEach(t=>A0.f0(t,null)),A0.f0(this.#p55.M15(),this.#p55),A0.f0(this.#p34.M15(),this.#p34),this.#p56.M32(!0),A0.f0(this.#p56.M15(),this.#p56),this.#p52.M96(),this.#P28(0,0),this.#P25(),g14("AppViewport").classList.remove("AppInit"),this.#P32();var t=g3("goto",null);null!==t&&(A0.f20(t),this.#p52.M74(!0))}#P32(){this.Deck=this.#p53,this.Draw=this.#p55,this.Discard=this.#p34,this.Dungeon=this.#p33,this.Hand=this.#p56,this.Menu=this.#p52,this.Messenger=this.#p16,this.Stats=this.#p45}#P21(){REDS_MAX=g3("reds_max",REDS_MAX,"int",[10,14]),Array.from(g13("input",g14("REDS_MAX"))).forEach(t=>{parseInt(t.value,10)===REDS_MAX&&(t.checked=!0),t.addEventListener("change",t=>{window.location=location.href.split("?").shift()+"?goto=Play&reds_max="+t.target.value})})}#P25(){var t;for(this.#p53.M33(t=>t.M79()||t.M69()===k20&&t.M68()>REDS_MAX);null!==(t=this.#p53.M84());)this.#p25.appendChild(t.M49()),A0.f0(t.M15(),t),this.#p34.M81(t)}#P28(t,i){var s=this.#p25.offsetTop,e=this.#p25.offsetWidth,h=Math.round(e/6),n=Math.round(this.#p25.offsetHeight/4),[h,p]=this.#P18(h,n,s);this.#p53.M35(h,p),this.#p16.f18(e,Math.round(p/2),0,this.#p25.offsetLeft),this.#p11.f18(e,n,0,0,h,p),this.#p33.f18(e,n,n,0),this.#p56.f18(e,n,2*n,0),this.#p45.f18(e,n-s)}#P18(t,i,s){var s=+s,t=t-s,e=Math.round(t*k1);return i-s<e&&(e=i-s,t=Math.round(e/k1)),[t,e]}#P9(t,i,s){if(0===i)return Promise.resolve(null);for(var e=[],h=k0*t,n=0;0<i--;)e.push(g15(n).then(t=>{s()})),n+=h;return e.push(g15(n-h+k0)),Promise.all(e)}#P8(i,s,t,e=!0){return this.#P9(.5,Math.min(t,i.M53()),t=>{s.M81(i.M20(),e)})}#P6(){this.#p53.M44(t=>t.M62(!1)),this.#p55.M12(this.#p34),this.#p33.M55(this.#p34),this.#p56.M55(this.#p34),setTimeout(t=>this.#p53.M44(t=>t.M62(!0)),0)}#P11(t,i){for(var s;0<t.length;)(s=t.pop()).M41().M54(s),i.M81(s)}#P19(){this.#P11(this.#p53.M4(),this.#p55)}#P34(t){this.#p16.M46(t)}#P31(t,i){return this.#p52.IsIcon(i)?this.#P12(i.id.split("_").pop()):"HomeCard"===i.id?this.#P12("Play"):void(this.#p54||this.#p17||(t instanceof E4?this.#P22(t):t instanceof E0?this.#P13(t):t===this.#p56?this.#P23():t===this.#p33&&this._NewDungeon()))}#P12(t){"MenuIcon"===t?this.#p52.M88():"Play"===t?"Play"===A0.f4()?this.#P33():(this.#p52.M74(!0),this.#p52.M95(),A0.f20("Play")):"Home"===t?(this.#p52.M96(),this.#p52.M74(!1),A0.f20("Home")):A0.f20(t)}#P22(t){this.clicked_card=t,this.#p54||(t.M70()?t.M94(this.#p56)?this.#P23():t.M80()?this.#P15(t):t.M71()?this.#P16(t):this.#P17(t):this.#P13(t.M41()))}#P13(t){this.#p54||(t===this.#p34?this.#P14():this.#P35())}#P23(){var t,i=this.#p33.M13();null!==i?(this.#p33.M0(),0!==(t=this.#p56.M43(i))?1===t?this.#P34("Hand &raquo; First card must be a weapon."):2===t?this.#P34("Hand &raquo; Card must be a monster."):t<0&&this.#P34("Hand &raquo; Monster value must be &lt; "+Math.abs(t)):(this.#P7(i,this.#p56),i.M80()&&((t=this.#p56.M21()-i.M68())<0?0===this.#p45.M36(t)&&this.#P30(!1):this.#p45.M2()))):0===this.#p56.M53()?this.#P34("Hand &raquo; Select a weapon from the dungeon."):this.#P34("Hand &raquo; Select a monster from the dungeon."),this.#p56._Status()}#P15(t){this.#p33.M56(t),(0===this.#p56.M53()||t.M68()>=this.#p56.M57())&&this.#P14()}#P16(t){this.#p26?(this.#p26=!1,this.#p45.M85(!1),this.#p45.M36(t.M68())):this.#p45.M2(),this.#P7(t,this.#p34)}#P17(t){this.#p54=!0,this.#p45.M2(),this.#P9(.33,this.#p56.M53(),()=>{this.#p34.M81(this.#p56.M22())}).then(()=>{this.#P7(t,this.#p56),this.#p54=!1,this.#p56._Status()})}#P33(){this.#p54||(this.#p54=!0,this.#p52.M96(),this.#p16.M96(),this.#p52.M58(!1),this.#p45.M93(),this.#p26=!0,this.#p27=-1,this.#p46=0,this.#p17=!1,this.#P6(),this.#p53.M93(),this.#p53.M83(),this.#P19(),this.#p55.M73(k0),this.#p34.M73(k0),this.#P8(this.#p55,this.#p33,k2,!1).then(()=>{this.#p33.M65(),this.#p52.M58(!0),this.#p54=!1}))}#P7(t,i){this.#p33.M54(t),i.M81(t),this.#p45.M89(!1),1<this.#p33.M53()||(0===this.#p33.M53()?this.#P30(!0):0!==this.#p55.M53()&&this.#P29())}#P29(){this.#p46+=1,this.#p54=!0,this.#p26=!0,this.#p45.M85(!0),this.#p45.M89(1<this.#p46-this.#p27),this.#P8(this.#p55,this.#p33,k2-this.#p33.M53(),!1).then(()=>{this.#p33.M65(),this.#p54=!1})}#P14(){var t=this.#p33.M13();null===t?this.#P34("Fight barehanded &raquo; Select a monster from the dungeon."):(this.#P7(t,this.#p34),0===this.#p45.M36(-t.M68())&&this.#P30(!1))}#P35(){0<=this.#p27&&this.#p46-this.#p27<=1?this.#P34("Run &raquo; No two consecutive rooms can be avoided."):this.#p33.M53()<k2?this.#P34("Run &raquo; Not possible after playing cards."):(this.#p27=this.#p46,this.#p45.M89(!1),this.#p54=!0,this.#P9(.33,k2,()=>{this.#p55.M10(this.#p33.M22())}).then(()=>{this.#p54=!1,this.#P29()}))}#P30(t){this.#p17=!0;var i=0;t?(i=this.#p45.M66(),this.#p55.M6(t=>t.M71()).forEach(t=>i+=t.M68())):this.#p55.M6(t=>t.M80()).forEach(t=>i-=t.M68()),this.#p16.M47("Game over &raquo; You scored "+i+".")}}class E0 extends E3{#p61=null;#p18=[];#p47=0;#p4=!1;#p57=null;#p19=null;constructor(t){super(t,"column","center","center",!0),this.#p61=t,this.#p57=new C0(this.#p61+"_Base",!0),this.M59(this.#p57);t=this.#p57.M49();t.classList.add("CardPileBase"),t.classList.add("Clickable"),this.#p19=document.createElement("p"),this.#p19.classList.add("Hidden"),t.appendChild(this.#p19)}M17(){return this.#p57.M49()}M72(){return g8(this.#p18)}M18(t){this.#p4=t,0<this.#p18.length&&this.#p18[this.#p18.length-1].M60(t)}M19(t,i){this.M7(t,i),this.M1(),this.#P10(),this.#p19.style.fontSize=Math.round(.09*t)+"px"}#P10(){const[i,s]=this.#p57.M37();this.#p18.forEach(t=>t.M38(i,s))}M26(){var i=1;this.#p18.forEach(t=>t.M63(i++))}M73(t){this.#p47=t}M30(t){this.M81(t,!0)}M10(t){this.M81(t,!1)}M81(t,i=!0){var s,e;this.#p18.includes(t)||(this.#p18[i?"push":"unshift"](t),this.#p19.innerHTML=this.#p18.length,[s,e]=this.#p57.M37(),t.M39(!1),t.M60(!1),t.M38(s,e),i?t.M63(100+this.#p18.length):t.M63(0),t.M40(this),g15(this.#p47).then(t=>{this.M26(),this.M3()}))}M11(){return this.#p57.M37()}M20(){var t;return 0===this.#p18.length?null:((t=this.#p18.pop()).M63(100+this.#p18.length),t.M61(!1),this.M3(),this.#p19.innerHTML=this.#p18.length,t)}M3(){var t=this.#p18.length-1;if(0<=t){var i=this.#p18[t];for(i.M61(!1),i.M60(this.#p4),--t;0<=t;--t)(i=this.#p18[t]).M61(!0),i.M60(!1)}}M82(){return 0===this.#p18.length}M53(){return this.#p18.length}M54(t){if(this.#p18.includes(t))return g2(this.#p18,t),t.M61(!1),this.#p19.innerHTML=this.#p18.length,this.M3(),t}M42(t){this.#p19.classList[t?"remove":"add"]("Hidden"),t&&(this.#p19.innerHTML=this.#p18.length)}M12(t){for(var i;0<this.#p18.length;)i=this.#p18[0],this.M54(i),t.M81(i)}M15(){return this.#p57.M49()}M31(){1<this.#p18.length&&(g7(this.#p18),this.M26(),this.M3())}M64(t){this.M49().classList[t?"add":"remove"]("Highlight")}M6(t){return this.#p18.filter(t)}}class E1 extends E3{#p61=null;#p20=0;#p18=[];#p35=!1;#p5=null;#p39=0;#p36=1/0;constructor(t,i){super(t,"row",isNaN(parseInt(i,10))?"center":"evenly","center",!0),this.#p61=t,this.#p20=i,this.#p35=isNaN(parseInt(i,10))}M87(){return this.#p35}f18(t,i,s,e){super.f18(t,i,s,e)}M32(t){this.M49().classList[t?"add":"remove "]("Clickable")}M15(){return this.M49()}M81(t,i=!0){if(this.#p18.length!==this.#p20&&!this.#p18.includes(t))return t.M40(this),t.M60(!0),t.M63(100+this.#p18.length),i?(t.M52()?this.#p39=t.M68():t.M80()&&(this.#p36=t.M68()),this.#p18.push(t)):this.#p18.unshift(t),this.M59(t,i),!0}M54(t){if(this.#p18.includes(t))return g2(this.#p18,t),this.M28(t),t===this.#p5&&(t.M39(!1),this.#p5=null),this.#p35&&0===this.#p18.length&&(this.#p39=0,this.#p36=1/0),t}M55(t){for(var i;0<this.#p18.length;)i=this.#p18[0],this.M54(i),t.M81(i);this.#p35&&(this.#p39=0,this.#p36=1/0)}M56(t){null!==this.#p5&&(this.#p5.M39(!1),this.#p5===t)?this.#p5=null:(this.#p5=t,this.#p5.M39(!0))}M13(){return this.#p5}M0(){null!==this.#p5&&(this.#p5.M39(!1),this.#p5=null)}M53(){return this.#p18.length}M72(){return g8(this.#p18)}_Status(){}M43(t){if(0===this.#p18.length){if(!t.M52())return 1}else{if(!t.M80())return 2;if(t.M68()>=this.#p36)return-this.#p36}return 0}M57(){return this.#p36}M21(){return this.#p39}M22(){return this.M54(this.#p18[this.#p18.length-1])}M65(){this.M8(t=>(this.#p18=t.sort((t,i)=>{if(i.M92()||t.M92()){if(i.M92()&&!t.M92())return 1;if(t.M92()&&!i.M92())return-1;if(i.M77()!==t.M77())return Math.sign(i.M77()-t.M77())}return Math.sign(i.M68()-t.M68())}),g8(this.#p18))),this.M1()}}class C4{#p18=[];#p6=[];#p21=0;#p10=0;constructor(t,i=null){this.#p21=t,this.#P26(),null!==i&&this.DiscardCards(i)}#P26(){for(var t,i,s,e=0,h=[],n=0;n<4;++n)for(s=this.M34(n),h.includes(s)||h.push(s),i=2;i<=14;++i)t=new E4(e++,{id:n,symbol:this.M27(n),color:s},{nr:i,symbol:this.M23(i)}),this.#p18.push(t),this.#p10+=1;for(var p=0,r=1;r<=this.#p21;++r)t=new E4(e++,{id:k12,symbol:this.M27(k12),color:h[p]},{nr:k6,symbol:this.M23(k6)}),this.#p18.push(t),this.#p10+=1,p=(1+p)%h.length}M33(t){if(!(0<this.#p6.length))return t=this.#p18.filter(t),this.#p10-=t.length,t.forEach(t=>{g2(this.#p18,t)}),t}f18(i,s){this.M44(t=>t.M76(i,s))}M44(t){this.#p18.forEach(t),this.#p6.forEach(t)}M83(){g7(this.#p18)}M84(){var t;return 0===this.#p18.length?null:(t=g0(this.#p18),this.#p6.push(t),t)}M93(){for(;this.#p6.length;)this.#p18.push(this.#p6.pop())}M27(i){return k21.filter(t=>t.id===i).pop().symbol}M34(i){return k21.filter(t=>t.id===i).pop().color}M23(i){return i===k6||11<=i&&i<=13||i===k19?k16.filter(t=>t.value===i).pop().symbol:i}M35(i,s){this.M44(t=>t.M76(i,s))}M6(t){t=this.#p18.filter(t);return t.forEach(t=>{g2(this.#p18,t),this.#p6.push(t)}),t}M53(){return this.#p18.length}M14(){return this.#p10}M4(){for(var t=[];0<this.#p18.length;){var i=this.#p18.pop();this.#p6.push(i),t.push(i)}return t}}class C5{#p30=null;#p58=null;#lst_elements=null;constructor(t,i){this.#p30=t,this.#p58=i,this.#lst_elements=Array.from(t.children),this.#p58.classList.add("Clickable"),this.#lst_elements.forEach(t=>t.classList.add("Clickable"))}M45(){return g8(this.#lst_elements)}M95(){this.#p30.style.right=0}M96(){this.#p30.style.right=-1.1*this.#p30.offsetWidth+"px"}M88(){"0px"===this.#p30.style.right?this.M96():this.M95()}M74(t=!0){this.#p58.classList[t?"remove":"add"]("Hidden")}IsIcon(t){return t.id.startsWith("Menu")}M58(t){g14("Menu_Play").classList[t?"remove":"add"]("Hidden")}}class C1{#p30=null;#p60=null;#p22=0;#p48=0;constructor(t){this.#p30=document.createElement("div"),this.#p30.id="Messenger",this.#p60=document.createElement("p"),this.#p30.appendChild(this.#p60),this.#p22=t<1e3?1e3*t:t}M49(){return this.#p30}f18(t,i,s,e){this.#p30.style.width=t+"px",this.#p30.style.height=i+"px",this.#p30.style.left=e+"px",this.#p60.style.fontSize=Math.min(Math.round(.25*i),17)+"px",this.M96()}M96(){this.#p30.style.top=-1.1*this.#p30.offsetHeight+"px"}M5(t,i){0<this.#p22&&this.M46("<span>"+t+"</span>: "+i)}M46(t){0<this.#p22&&(clearTimeout(this.#p48),this.#p48=setTimeout(this.M96.bind(this),this.#p22),this.#p60.innerHTML=t,this.#p30.style.top=0)}M47(t){clearTimeout(this.timer),this.#p60.innerHTML=t,this.#p30.style.top=0}}class E2 extends E3{#p61=null;#p55=null;#p34=null;constructor(t){super("PilesRow_"+t,"row","evenly","center",!0),this.#p61=t,this.#p55=new E0(t+"_Draw"),this.#p34=new E0(t+"_Discard"),this.#p34.M42(!0),this.#p55.M42(!0),this.M59(this.#p55),this.M59(this.#p34)}f18(t,i,s,e,h,n){super.f18(t,i,s,e),this.M7(Math.min(Math.round(t/3),i),i),this.M1(),this.M25(t=>{t instanceof E0?t.M19(h,n):t.M49().style.fontSize=Math.round(.12*h)+"px"})}M48(){return this.#p55}M24(){return this.#p34}M45(){return[this.M49(),this.#p55.M49(),this.#p34.M49(),this.#p55.M17(),this.#p34.M17()]}}class C3{#p30=null;#p40=0;#p28=null;#p7=null;#p2=null;#p1=null;#p12=0;#p13=0;#p14=null;#p37=null;#p29=null;#p3=0;#p49=100;constructor(t,i,s){this.#p30=t,this.#p12=i,this.#p13=s,t.appendChild(this.#p7=this.#P27("HealthLeft")),this.#p28=document.createElement("div"),this.#p28.id="Health",t.appendChild(this.#p28),t.appendChild(this.#p2=this.#P27("HealthRight")),this.#p14=document.createElement("div"),this.#p14.innerHTML="--",this.#p28.appendChild(this.#p14),this.#p1=document.createElement("div"),this.#p28.appendChild(this.#p1);i=document.createElement("div");this.#p28.appendChild(i),this.#p37=document.createElement("span"),this.#p37.innerHTML="&larr;",this.#p37.innerHTML="&#x25C0;",this.#p29=document.createElement("span"),this.#p29.innerHTML="&uarr;",this.#p29.innerHTML="&#x25B2;",i.appendChild(this.#p37),i.appendChild(this.#p29)}M93(){this.#p40=this.#p3=this.#p13,this.#p1.innerHTML="",this.M85(!0),this.M89(!0),this.#P24()}M2(){this.#p1.innerHTML=""}#P27(t){var i=document.createElement("div"),t=(i.id=t,document.createElement("div"));return i.appendChild(t),i}f18(t,i){this.#p30.style.height=i+"px";i=Math.round(.4*t*.09);this.#p7.style.fontSize=i+"px",this.#p2.style.fontSize=i+"px"}M36(t){return this.#p40+=t,this.#p1.innerHTML=(0<t?"+":"")+t,this.#p40>this.#p13?this.#p40=this.#p13:this.#p40<this.#p12&&(this.#p40=this.#p12),this.#p3!==this.#p40&&setTimeout(this.#p15.bind(this),this.#p49),this.#p40}#p15=function(){this.#p3+=Math.sign(this.#p40-this.#p3),this.#P24(),this.#p3!==this.#p40&&setTimeout(this.#p15.bind(this),this.#p49)};#P24(){this.#p14.innerHTML=this.#p3;var t=Math.floor(this.#p3/this.#p13*100);g12("div",this.#p7).style.width=t+"%",g12("div",this.#p2).style.width=t+"%"}M89(t){this.#p37.classList[t?"remove":"add"]("Disabled")}M85(t){this.#p29.classList[t?"remove":"add"]("Disabled")}M66(){return this.#p40}}const k1=16/11;var REDS_MAX=10;const k17=5,k18=0,k0=g9("CARD_TRANSLATE_TIME",!0),k2=4,k9=20,k10=0,k4=0,k5=1,k3=2,k11=3,k12=4,k13=["hearts","spades","diamonds","clubs","joker"],k6=0,k14=11,k7=12,k15=13,k19=14,k20="Red",k8="Black",k21=[{id:k4,symbol:"&hearts;",color:k20},{id:k5,symbol:"&spades;",color:k8},{id:k3,symbol:"&diams;",color:k20},{id:k11,symbol:"&clubs;",color:k8},{id:k12,symbol:"",color:""}],k16=[{value:k14,symbol:"J"},{value:k7,symbol:"Q"},{value:k15,symbol:"K"},{value:k19,symbol:"A"},{value:k6,symbol:"&#x2605;"}];window.addEventListener("load",()=>{new C2});