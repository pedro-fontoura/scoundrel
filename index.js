'use strict;'
const A0={viewport:null,viewport_width:0,pages_container:null,nr_pages:0,lst_pages:null,current_page_idx:0,previous_page_idx:0,client_onResize:null,client_onClick:null,mouse_or_touch:null,PAGE_FREE:0,PAGE_LANDSCAPE:1,PAGE_PORTRAIT:-1,page_before_rotate:-1,page_mode:0,page_rotate_id:0,error_node:null,error_page:null,f23:function(t,i){this.viewport=document.getElementById("AppViewport"),this.pages_container=document.getElementById("AppPagesContainer"),this.lst_pages=Array.from(document.querySelectorAll(".AppPage")),this.nr_pages=this.lst_pages.length,window.hasOwnProperty("cordova")?this.mouse_or_touch="mousedown":this.mouse_or_touch=void 0!==window.ontouchstart?"touchstart":"mousedown",A0.f18(null),this.client_onResize=t||null,this.client_onClick=i||null,window.visualViewport.addEventListener("resize",A0.f18.bind(this))},f18:function(t){this.viewport_width=this.viewport.offsetWidth,this.viewport.style.height=window.visualViewport.height+"px",this.pages_container.style.width=this.nr_pages*this.viewport_width+"px",this.pages_container.style.left=-this.current_page_idx*this.viewport.offsetWidth+"px",this.lst_pages.forEach(t=>t.style.width=this.viewport_width+"px"),this.f8(),this.f11(),null!==this.client_onResize&&this.client_onResize(this.viewport_width,this.viewport.offsetHeight)},f19:function(){return this.viewport_width},f15:function(){return this.viewport.offsetHeight},f20:function(t=""){if("string"==typeof t){var i=0,s=t;for(t=this.current_page_idx;i<this.nr_pages;){if(this.lst_pages[i].id===s){t=i;break}i++}}return this.pages_container.style.left=-t*this.viewport.offsetWidth+"px",this.previous_page_idx=this.current_page_idx,this.current_page_idx=t},f9:function(){return this.current_page_idx},f4:function(){return this.lst_pages[this.current_page_idx].id},f8:function(){this.f20(this.current_page_idx)},f5:function(){this.f20(this.current_page_idx)},f13:function(t,i){this.page_mode=t,this.page_rotate_id=i,this.f11()},f11:function(){return this.show_page=!1,this.page_mode!==this.PAGE_FREE&&(Math.sign(this.viewport.offsetWidth-this.viewport.offsetHeight)!==this.page_mode?(-1===this.page_before_rotate&&(this.page_before_rotate=this.current_page_idx),this.f20(this.page_rotate_id),this.show_page=!0):-1!==this.page_before_rotate&&(this.f20(this.page_before_rotate),this.page_before_rotate=-1,this.show_page=!0)),this.show_page||this.f8(),this.show_page},f0:function(t,i){t.addEventListener(this.mouse_or_touch,this.f21.bind(this,i)),t.addEventListener("contextmenu",this.f10.bind(this))},f6:function(t,i,s){"mousedown"===(i="MOUSE||TOUCH"===i?this.mouse_or_touch:i)&&t.addEventListener("contextmenu",this.f10.bind(this)),t.addEventListener(i,s)},f12:function(t){return t.stopPropagation(),t.preventDefault(),t.target},f21:function(t,i){this.f12(i),null!==this.client_onClick&&this.client_onClick(t,i.target)},f10:function(t){this.f12(t),t.target.click()},f1:function(t){if("serviceWorker"in navigator&&"https:"===window.location.protocol&&void 0===window.cordova){if(this.A1&&!this.A1.f22())return;navigator.serviceWorker.register(t).then(t=>{}).catch(t=>{})}},f7:function(t="AppError"){"string"==typeof t&&(t=document.getElementById(t)),this.error_node=t,this.error_page=g1(t,"section"),window.addEventListener("unhandledrejection",t=>{t.preventDefault(),this.f16("Unhandled rejection",t.reason)}),window.addEventListener("error",t=>{t.preventDefault();t=[t.error.message,t.error.fileName,t.error.lineNumber,this.f2(t.error)].join("<br>");this.f16("Error",t)})},f2:function(t){return t.stack.split(" at ").join("<br>&bull; ")},f16:function(t,i){this.error_node.innerHTML+="<h3>"+t+"</h3>"+i,null!==this.error_page&&this.f20(this.error_page.id)}};class C0{#p67=null;#p65=1/0;#p56=1/0;#p47=1/0;#p40=1/0;#p31=null;constructor(t,i=!1){this.#p67=t,!0===i?this.#p31=this.#P20():i instanceof Node&&(this.#p31=i,this.#p31.id=this.#p67,this.#p31.classList.add("FlexBoxEntity"))}#P20(){var t=document.createElement("div");return t.id=this.#p67,t.classList.add("FlexBoxEntity"),t}M89(){return this.#p67}M36(){return[this.#p65,this.#p56]}M48(){return this.#p31}f19(){return this.#p47}f15(){return this.#p40}M85(){return this.#p65}M74(){return this.#p56}f18(t,i,s,h){this.M37(s,h),this.M75(t,i)}M37(t,i){this.#p65=t,this.#p56=i,null!==this.#p31&&(this.#p31.style.top=t+"px",this.#p31.style.left=i+"px")}M75(t,i){this.#p47=t,this.#p40=i,null!==this.#p31&&(this.#p31.style.width=t+"px",this.#p31.style.height=i+"px")}}class E3 extends C0{#p9=null;#p32=null;#p48=null;#p8=[];constructor(t,i,s,h,e=!1){super(t,e),this.#p9=i,this.#p32=s,this.#p48=h,e&&this.M48().classList.add("FlexBox")}M58(t,i=!0){this.#p8[i?"push":"unshift"](t),this.M1()}M27(t){g2(this.#p8,t),this.M1()}f18(t,i,s,h,e=0,p=0){super.f18(t,i,s,h),0<e&&0<p&&this.M7(e,p),this.M1()}M7(i,s){0<this.#p8.length&&this.#p8.forEach(t=>t.M75(i,s))}M1(){var i,s,h,e;0!==this.#p8.length&&(s=i=0,this.#p8.forEach(t=>{i+=t.f19(),s+=t.f15()}),i!==1/0)&&s!==1/0&&("row"===this.#p9?(h=this.#P4(this.#p32)(!0,"width",i),e=this.#P4(this.#p48)(!1,"height",s)):(e=this.#P4(this.#p32)(!0,"height",s),h=this.#P4(this.#p48)(!1,"width",i)),this.#p8.forEach(t=>{t.M37(e.shift(),h.shift())}))}M24(i){this.#p8.forEach(t=>i(t))}#P4(t){return"center"===t?this.#P0.bind(this):"start"===t?this.#P2.bind(this):"end"===t?this.#P3.bind(this):"evenly"===t?this.#P1.bind(this):void 0}#P5(t,i){for(var s,h="width"===i?this.M74():this.M85(),e=[],p=0;p<this.#p8.length;++p)t&&0<p&&(s=this.#p8[p-1],h+="width"===i?s.f19():s.f15()),e.push(h);return e}#P2(t,i,s){return this.#P5(t,i)}#P0(t,i,s){for(var h,e=this.#P5(t,i),p=this.#p8.length,n="width"===i?this.f19():this.f15(),r=Math.round((n-s)/2),l=0;l<p;++l)t?e[l]+=r:(h=this.#p8[l],e[l]+=Math.round((n-("width"===i?h.f19():h.f15()))/2));return e}#P3(t,i,s){for(var h,e=this.#P5(t,i),p=this.#p8.length,n="width"===i?this.f19():this.f15(),r=Math.round(n-s),l=0;l<p;++l)t?e[l]+=r:(h=this.#p8[l],e[l]+=n-("width"===i?h.f19():h.f15()));return e}#P1(t,i,s){for(var h=this.#P5(t,i),e=this.#p8.length,t="width"===i?this.f19():this.f15(),p=Math.round((t-s)/(e+1)),n=0;n<e;++n)h[n]+=(n+1)*p;return h}M8(t){this.#p8=t(this.#p8)}}function g14(t){return document.getElementById(t)}function g12(t,i){return(i=i||document).getElementsByTagName(t)[0]}function g13(t,i){return(i=i||document).getElementsByTagName(t)}function g10(t,i=document){return i.querySelector(t)}function g11(t,i=document){return i.querySelectorAll(t)}function g1(t,i){for(i=i.toUpperCase();null!==t&&t.tagName!==i;)t=t.parentNode;return t}function g15(s,h=null){return new Promise((t,i)=>setTimeout(t,s,h))}function g6(i,t){t.forEach(t=>null!==t&&i.appendChild(t))}function g3(t,i=null,s=null,h=null){t=new URL(window.location).searchParams.get(t);return null===t||(null!==s&&"string"!==s&&("int"===s?t=e(t=parseInt(t,10),h):"float"===s?t=e(t=parseFloat(t,10),h):"boolean"===s?t=Boolean(parseInt(t,10)):"uppercase"===s?t=t.toUpperCase():"lowercase"===s&&(t=t.toLowerCase())),["string","uppercase","lowercase"].includes(s)&&null!==h&&!h.includes(t))?i:t;function e(t,i){var s;return null!==i&&(s=i[0],i=i[1],t<s?t=s:i<t&&(t=i)),t}}function g9(t,i){t=getComputedStyle(document.documentElement).getPropertyValue("--"+t.split("--").pop()).trim();return i?parseInt(t,10):t}function g7(t){for(var i=t.length-1;0<i;i--){var s=Math.floor(Math.random()*(i+1)),h=t[i];t[i]=t[s],t[s]=h}}function g8(t){return t.concat()}function g2(t,i){return t.includes(i)?t.splice(t.indexOf(i),1).pop():null}function g4(t,i){return i>=t.length?null:t.splice(i,1).pop()}function g0(t){return g4(t,Math.f17(0,t.length-1))}function g5(t){return t[Math.f17(0,t.length-1)]}A0.A1={},A0.A1.f22=function(){return 0<navigator.maxTouchPoints},A0.A1.f24=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},A0.A1.f3=function(){document.fullscreenElement||!this.f22()||this.f24()||document.documentElement.requestFullscreen instanceof Function&&document.documentElement.requestFullscreen({navigationUI:"hide"})},Math.f17=function(t,i){return Math.floor(Math.random()*(i-t+1))+t},Math.f14=function(t,i){return t+Math.random()*(i-t)};class E4 extends C0{#p67=null;#p57=-1;#p49=-1;#p50=-1;#p33=!0;#p24=!1;#p0=!0;#p25=null;#p41=null;#p42=null;#p43=null;#p11=null;#p34=null;#p44=null;constructor(t,i,s){super("Card_"+t,!0),this.#p67=t,this.#p57=i.id,this.#p49=s.nr,this.#p50=i.color,this.M66(s.symbol,s.nr),this.#p57===k11?this.#p44.innerHTML="<img src='images/triton-head.svg'>":this.#p57===k5?this.#p44.innerHTML="<img src='images/daemon-skull.svg'>":this.#p57===k4?this.#p44.innerHTML="<img src='images/health-potion.svg'>":this.#p57===k3&&(this.#p44.innerHTML="<img src='images/sword-spin.svg'>"),this.#p34.classList.add("Suit_"+k13[this.#p57]),this.#p42.classList.add("Suit_"+k13[this.#p57])}M14(){return this.#p41}M66(t,i){this.#p41=document.createElement("div"),this.#p41.classList.add("CardBody"),this.#p41.classList.add("Clickable"),this.#p42=document.createElement("div"),this.#p42.classList.add("CardFace"),this.#p41.appendChild(this.#p42),this.#p43=document.createElement("div"),this.#p43.classList.add("CardBack"),this.#p41.appendChild(this.#p43),this.#p34=document.createElement("p"),this.#p34.classList.add("CardValue"),this.#p34.classList.add("CardValue"+this.#p50);var s=document.createElement("span"),i=(s.innerHTML=i,this.#p34.appendChild(s),this.#p42.appendChild(this.#p34),this.#p11=document.createElement("span"),this.#p34.appendChild(this.#p11),this.#p44=document.createElement("p"),this.#p44.classList.add("CardSuit"),this.#p44.classList.add("CardSuit"+this.#p50),this.#p42.appendChild(this.#p44),this.#p33||this.#p41.classList.add("FaceDown"),this.M48());i.classList.add("Card"),i.classList.add("CardSmooth"),i.appendChild(this.#p41)}M67(){return this.#p49}M76(){return this.#p57}M68(){return this.#p50}M75(t,i){super.M75(t,i),this.#p34.style.fontSize=Math.round(.3*t)+"px",this.#p34.children.length&&(this.#p34.children[1].style.fontSize=Math.round(.2*t)+"px"),this.#p44.style.fontSize=Math.round(.4*t)+"px";i=g12("img",this.#p44);null!==i&&(i.style.width=i.style.height=Math.round(.75*t)+"px")}M59(t){this.#p33=t,this.#p41.classList[t?"remove":"add"]("FaceDown")}M38(t){this.#p24=t,this.#p41.classList[t?"add":"remove"]("CardSelected")}M15(){return this.M38(!this.#p24),this.#p24}M39(t){this.#p25=t}M93(t){return this.#p25===t}M40(){return this.#p25}M77(){return[k14,k7,k15].includes(this.#p49)}M49(){return this.M77()}M78(){return this.#p49===k6}M90(){return this.#p49===k19}M69(){return this.#p33}M50(){return this.#p24}M60(t){this.M48().classList[t?"add":"remove"]("CardHidden")}M61(t){this.M48().classList[t?"add":"remove"]("CardSmooth")}M62(t){this.M48().style.zIndex=t}M28(){return this.M77()||this.M90()}M91(){return this.#p57===k4||this.#p57===k3}M79(){return this.#p57===k5||this.#p57===k11}M70(){return this.#p57===k4}M51(){return this.#p57===k3}}class C2{#p26=null;#p17=null;#p58=null;#p59=null;#p60=!1;#p61=null;#p12=null;#p35=null;#p36=null;#p62=null;#p51=null;#p27=!0;#p28=-1;#p52=0;#p18=!1;constructor(){this.clicked_card=null,A0.f23(this.#P28.bind(this),this.#P31.bind(this)),A0.f7(),this.#P21(),this.#p26=g14("GameViewport"),this.#p17=new C1(k17),this.#p58=new C5(g14("MenuPannel"),g14("MenuIcon")),this.#p59=new C4(k18),this.#p12=new E2("CardPiles"),this.#p61=this.#p12.M47(),this.#p36=this.#p12.M23(),this.#p35=new E1("Dungeon",k2),this.#p62=new E1("Hand",1/0),this.#p51=new C3(g14("InGameInfo"),k10,k9),g14("Play").appendChild(this.#p17.M48()),this.#p26.appendChild(this.#p35.M48()),this.#p26.appendChild(this.#p62.M48()),g6(this.#p26,this.#p12.M44()),A0.f6(window,"contextmenu",A0.f12.bind(A0)),A0.f0(g14("HomeCard"),null),A0.f0(g14("MenuIcon"),null),this.#p58.M44().forEach(t=>A0.f0(t,null)),A0.f0(this.#p61.M14(),this.#p61),A0.f0(this.#p36.M14(),this.#p36),this.#p62.M31(!0),A0.f0(this.#p62.M14(),this.#p62),this.#p58.M95(),this.#P28(0,0),this.#P25(),g14("AppViewport").classList.remove("AppInit");var t=g3("goto",null);null!==t&&(A0.f20(t),this.#p58.M73(!0))}#P21(){REDS_MAX=g3("reds_max",REDS_MAX,"int",[10,14]),Array.from(g13("input",g14("REDS_MAX"))).forEach(t=>{parseInt(t.value,10)===REDS_MAX&&(t.checked=!0),t.addEventListener("change",t=>{window.location=location.href.split("?").shift()+"?goto=Play&reds_max="+t.target.value})})}#P25(){var t;for(this.#p59.M32(t=>t.M78()||t.M68()===k20&&t.M67()>REDS_MAX);null!==(t=this.#p59.M83());)this.#p26.appendChild(t.M48()),A0.f0(t.M14(),t),this.#p36.M80(t)}#P28(t,i){var s=this.#p26.offsetTop,h=this.#p26.offsetWidth,e=Math.round(h/6),p=Math.round(this.#p26.offsetHeight/4),[e,n]=this.#P18(e,p,s);this.#p59.M34(e,n),this.#p17.f18(h,Math.round(n/2),0,this.#p26.offsetLeft),this.#p12.f18(h,p,0,0,e,n),this.#p35.f18(h,p,p,0),this.#p62.f18(h,p,2*p,0),this.#p51.f18(h,p-s)}#P18(t,i,s){var s=+s,t=t-s,h=Math.round(t*k1);return i-s<h&&(h=i-s,t=Math.round(h/k1)),[t,h]}#P9(t,i,s){if(0===i)return Promise.resolve(null);for(var h=[],e=k0*t,p=0;0<i--;)h.push(g15(p).then(t=>{s()})),p+=e;return h.push(g15(p-e+k0)),Promise.all(h)}#P8(i,s,t,h=!0){return this.#P9(.5,Math.min(t,i.M52()),t=>{s.M80(i.M19(),h)})}#P6(){this.#p59.M43(t=>t.M61(!1)),this.#p61.M11(this.#p36),this.#p35.M54(this.#p36),this.#p62.M54(this.#p36),setTimeout(t=>this.#p59.M43(t=>t.M61(!0)),0)}#P11(t,i){for(var s;0<t.length;)(s=t.pop()).M40().M53(s),i.M80(s)}#P19(){this.#P11(this.#p59.M4(),this.#p61)}#P33(t){this.#p17.M45(t)}#P31(t,i){return this.#p58.IsIcon(i)?this.#P12(i.id.split("_").pop()):"HomeCard"===i.id?this.#P12("Play"):void(this.#p60||this.#p18||(t instanceof E4?this.#P22(t):t instanceof E0?this.#P13(t):t===this.#p62?this.#P23():t===this.#p35&&this._NewDungeon()))}#P12(t){"MenuIcon"===t?this.#p58.M87():"Play"===t?"Play"===A0.f4()?this.#P32():(this.#p58.M73(!0),this.#p58.M94(),A0.f20("Play")):"Home"===t?(this.#p58.M95(),this.#p58.M73(!1),A0.f20("Home")):A0.f20(t)}#P22(t){this.clicked_card=t,this.#p60||(t.M69()?t.M93(this.#p62)?this.#P23():t.M79()?this.#P15(t):t.M70()?this.#P16(t):this.#P17(t):this.#P13(t.M40()))}#P13(t){this.#p60||(t===this.#p36?this.#P14():this.#P34())}#P23(){var t,i=this.#p35.M12();null!==i?(this.#p35.M0(),0!==(t=this.#p62.M42(i))?1===t?this.#P33("Hand &raquo; First card must be a weapon."):2===t?this.#P33("Hand &raquo; Card must be a monster."):t<0&&this.#P33("Hand &raquo; Monster value must be &lt; "+Math.abs(t)):(this.#P7(i,this.#p62),i.M79()&&((t=this.#p62.M20()-i.M67())<0?0===this.#p51.M35(t)&&this.#P30(!1):this.#p51.M2()))):0===this.#p62.M52()?this.#P33("Hand &raquo; Select a weapon from the dungeon."):this.#P33("Hand &raquo; Select a monster from the dungeon."),this.#p62._Status()}#P15(t){this.#p35.M55(t),(0===this.#p62.M52()||t.M67()>=this.#p62.M56())&&this.#P14()}#P16(t){this.#p27?(this.#p27=!1,this.#p51.M84(!1),this.#p51.M35(t.M67())):this.#p51.M2(),this.#P7(t,this.#p36)}#P17(t){this.#p60=!0,this.#p51.M2(),this.#P9(.33,this.#p62.M52(),()=>{this.#p36.M80(this.#p62.M21())}).then(()=>{this.#P7(t,this.#p62),this.#p60=!1,this.#p62._Status()})}#P32(){this.#p60||(this.#p60=!0,this.#p58.M95(),this.#p17.M95(),this.#p58.M57(!1),this.#p51.M92(),this.#p27=!0,this.#p28=-1,this.#p52=0,this.#p18=!1,this.#P6(),this.#p59.M92(),this.#p59.M82(),this.#P19(),this.#p61.M72(k0),this.#p36.M72(k0),this.#P8(this.#p61,this.#p35,k2,!1).then(()=>{this.#p35.M64(),this.#p58.M57(!0),this.#p60=!1}))}#P7(t,i){this.#p35.M53(t),i.M80(t),this.#p51.M88(!1),1<this.#p35.M52()||(0===this.#p35.M52()?this.#P30(!0):0!==this.#p61.M52()&&this.#P29())}#P29(){this.#p18||(this.#p60=!0,this.#p52+=1,this.#p27=!0,this.#p51.M84(!0),this.#p51.M88(1<this.#p52-this.#p28),this.#P8(this.#p61,this.#p35,k2-this.#p35.M52(),!1).then(()=>{this.#p35.M64(),this.#p60=!1}))}#P14(){var t=this.#p35.M12();null===t?this.#P33("Fight barehanded &raquo; Select a monster from the dungeon."):(this.#P7(t,this.#p36),0===this.#p51.M35(-t.M67())&&this.#P30(!1))}#P34(){0<=this.#p28&&this.#p52-this.#p28<=1?this.#P33("Run &raquo; No two consecutive rooms can be avoided."):this.#p35.M52()<k2?this.#P33("Run &raquo; Not possible after playing cards."):(this.#p28=this.#p52,this.#p51.M88(!1),this.#p60=!0,this.#P9(.33,k2,()=>{this.#p61.M9(this.#p35.M21())}).then(()=>{this.#p60=!1,this.#P29()}))}#P30(t){this.#p18=!0;var i=0;t?(i=this.#p51.M65(),this.#p61.M6(t=>t.M70()).forEach(t=>i+=t.M67())):this.#p61.M6(t=>t.M79()).forEach(t=>i-=t.M67()),this.#p17.M46("Game over &raquo; You scored "+i+".")}}class E0 extends E3{#p67=null;#p19=[];#p53=0;#p4=!1;#p63=null;#p20=null;constructor(t){super(t,"column","center","center",!0),this.#p67=t,this.#p63=new C0(this.#p67+"_Base",!0),this.M58(this.#p63);t=this.#p63.M48();t.classList.add("CardPileBase"),t.classList.add("Clickable"),this.#p20=document.createElement("p"),this.#p20.classList.add("Hidden"),t.appendChild(this.#p20)}M16(){return this.#p63.M48()}M71(){return g8(this.#p19)}M17(t){this.#p4=t,0<this.#p19.length&&this.#p19[this.#p19.length-1].M59(t)}M18(t,i){this.M7(t,i),this.M1(),this.#P10(),this.#p20.style.fontSize=Math.round(.09*t)+"px"}#P10(){const[i,s]=this.#p63.M36();this.#p19.forEach(t=>t.M37(i,s))}M25(){var i=1;this.#p19.forEach(t=>t.M62(i++))}M72(t){this.#p53=t}M29(t){this.M80(t,!0)}M9(t){this.M80(t,!1)}M80(t,i=!0){var s,h;this.#p19.includes(t)||(this.#p19[i?"push":"unshift"](t),this.#p20.innerHTML=this.#p19.length,[s,h]=this.#p63.M36(),t.M38(!1),t.M59(!1),t.M37(s,h),i?t.M62(100+this.#p19.length):t.M62(0),t.M39(this),g15(this.#p53).then(t=>{this.M25(),this.M3()}))}M10(){return this.#p63.M36()}M19(){var t;return 0===this.#p19.length?null:((t=this.#p19.pop()).M62(100+this.#p19.length),t.M60(!1),this.M3(),this.#p20.innerHTML=this.#p19.length,t)}M3(){var t=this.#p19.length-1;if(0<=t){var i=this.#p19[t];for(i.M60(!1),i.M59(this.#p4),--t;0<=t;--t)(i=this.#p19[t]).M60(!0),i.M59(!1)}}M81(){return 0===this.#p19.length}M52(){return this.#p19.length}M53(t){if(this.#p19.includes(t))return g2(this.#p19,t),t.M60(!1),this.#p20.innerHTML=this.#p19.length,this.M3(),t}M41(t){this.#p20.classList[t?"remove":"add"]("Hidden"),t&&(this.#p20.innerHTML=this.#p19.length)}M11(t){for(var i;0<this.#p19.length;)i=this.#p19[0],this.M53(i),t.M80(i)}M14(){return this.#p63.M48()}M30(){1<this.#p19.length&&(g7(this.#p19),this.M25(),this.M3())}M63(t){this.M48().classList[t?"add":"remove"]("Highlight")}M6(t){return this.#p19.filter(t)}}class E1 extends E3{#p67=null;#p21=0;#p19=[];#p37=!1;#p5=null;#p45=0;#p38=1/0;constructor(t,i){super(t,"row",isNaN(parseInt(i,10))?"center":"evenly","center",!0),this.#p67=t,this.#p21=i,this.#p37=isNaN(parseInt(i,10))}M86(){return this.#p37}f18(t,i,s,h){super.f18(t,i,s,h)}M31(t){this.M48().classList[t?"add":"remove "]("Clickable")}M14(){return this.M48()}M80(t,i=!0){if(this.#p19.length!==this.#p21&&!this.#p19.includes(t))return t.M39(this),t.M59(!0),t.M62(100+this.#p19.length),i?(t.M51()?this.#p45=t.M67():t.M79()&&(this.#p38=t.M67()),this.#p19.push(t)):this.#p19.unshift(t),this.M58(t,i),!0}M53(t){if(this.#p19.includes(t))return g2(this.#p19,t),this.M27(t),t===this.#p5&&(t.M38(!1),this.#p5=null),this.#p37&&0===this.#p19.length&&(this.#p45=0,this.#p38=1/0),t}M54(t){for(var i;0<this.#p19.length;)i=this.#p19[0],this.M53(i),t.M80(i);this.#p37&&(this.#p45=0,this.#p38=1/0)}M55(t){null!==this.#p5&&(this.#p5.M38(!1),this.#p5===t)?this.#p5=null:(this.#p5=t,this.#p5.M38(!0))}M12(){return this.#p5}M0(){null!==this.#p5&&(this.#p5.M38(!1),this.#p5=null)}M52(){return this.#p19.length}M71(){return g8(this.#p19)}_Status(){}M42(t){if(0===this.#p19.length){if(!t.M51())return 1}else{if(!t.M79())return 2;if(t.M67()>=this.#p38)return-this.#p38}return 0}M56(){return this.#p38}M20(){return this.#p45}M21(){return this.M53(this.#p19[this.#p19.length-1])}M64(){this.M8(t=>(this.#p19=t.sort((t,i)=>{if(i.M91()||t.M91()){if(i.M91()&&!t.M91())return 1;if(t.M91()&&!i.M91())return-1;if(i.M76()!==t.M76())return Math.sign(i.M76()-t.M76())}return Math.sign(i.M67()-t.M67())}),g8(this.#p19))),this.M1()}}class C4{#p19=[];#p6=[];#p22=0;#p10=0;constructor(t){this.#p22=t,this.#P26()}#P26(){for(var t,i,s,h=0,e=[],p=0;p<4;++p)for(s=this.M33(p),e.includes(s)||e.push(s),i=2;i<=14;++i)t=new E4(h++,{id:p,symbol:this.M26(p),color:s},{nr:i,symbol:this.M22(i)}),this.#p19.push(t),this.#p10+=1;for(var n=0,r=1;r<=this.#p22;++r)t=new E4(h++,{id:k12,symbol:this.M26(k12),color:e[n]},{nr:k6,symbol:this.M22(k6)}),this.#p19.push(t),this.#p10+=1,n=(1+n)%e.length}M32(t){if(!(0<this.#p6.length))return t=this.#p19.filter(t),this.#p10-=t.length,t.forEach(t=>{g2(this.#p19,t)}),t}f18(i,s){this.M43(t=>t.M75(i,s))}M43(t){this.#p19.forEach(t),this.#p6.forEach(t)}M82(){g7(this.#p19)}M83(){var t;return 0===this.#p19.length?null:(t=g0(this.#p19),this.#p6.push(t),t)}M92(){for(;this.#p6.length;)this.#p19.push(this.#p6.pop())}M26(i){return k21.filter(t=>t.id===i).pop().symbol}M33(i){return k21.filter(t=>t.id===i).pop().color}M22(i){return i===k6||11<=i&&i<=13||i===k19?k16.filter(t=>t.value===i).pop().symbol:i}M34(i,s){this.M43(t=>t.M75(i,s))}M6(t){t=this.#p19.filter(t);return t.forEach(t=>{g2(this.#p19,t),this.#p6.push(t)}),t}M52(){return this.#p19.length}M13(){return this.#p10}M4(){for(var t=[];0<this.#p19.length;){var i=this.#p19.pop();this.#p6.push(i),t.push(i)}return t}}class C5{#p31=null;#p64=null;#lst_elements=null;constructor(t,i){this.#p31=t,this.#p64=i,this.#lst_elements=Array.from(t.children),this.#p64.classList.add("Clickable"),this.#lst_elements.forEach(t=>t.classList.add("Clickable"))}M44(){return g8(this.#lst_elements)}M94(){this.#p31.style.right=0}M95(){this.#p31.style.right=-1.1*this.#p31.offsetWidth+"px"}M87(){"0px"===this.#p31.style.right?this.M95():this.M94()}M73(t=!0){this.#p64.classList[t?"remove":"add"]("Hidden")}IsIcon(t){return t.id.startsWith("Menu")}M57(t){g14("Menu_Play").classList[t?"remove":"add"]("Hidden")}}class C1{#p31=null;#p66=null;#p23=0;#p54=0;constructor(t){this.#p31=document.createElement("div"),this.#p31.id="Messenger",this.#p66=document.createElement("p"),this.#p31.appendChild(this.#p66),this.#p23=t<1e3?1e3*t:t}M48(){return this.#p31}f18(t,i,s,h){this.#p31.style.width=t+"px",this.#p31.style.height=i+"px",this.#p31.style.left=h+"px",this.#p66.style.fontSize=Math.min(Math.round(.25*i),17)+"px",this.M95()}M95(){this.#p31.style.top=-1.1*this.#p31.offsetHeight+"px"}M5(t,i){0<this.#p23&&this.M45("<span>"+t+"</span>: "+i)}M45(t){0<this.#p23&&(clearTimeout(this.#p54),this.#p54=setTimeout(this.M95.bind(this),this.#p23),this.#p66.innerHTML=t,this.#p31.style.top=0)}M46(t){clearTimeout(this.timer),this.#p66.innerHTML=t,this.#p31.style.top=0}}class E2 extends E3{#p67=null;#p61=null;#p36=null;constructor(t){super("PilesRow_"+t,"row","evenly","center",!0),this.#p67=t,this.#p61=new E0(t+"_Draw"),this.#p36=new E0(t+"_Discard"),this.#p36.M41(!0),this.#p61.M41(!0),this.M58(this.#p61),this.M58(this.#p36)}f18(t,i,s,h,e,p){super.f18(t,i,s,h),this.M7(Math.min(Math.round(t/3),i),i),this.M1(),this.M24(t=>{t instanceof E0?t.M18(e,p):t.M48().style.fontSize=Math.round(.12*e)+"px"})}M47(){return this.#p61}M23(){return this.#p36}M44(){return[this.M48(),this.#p61.M48(),this.#p36.M48(),this.#p61.M16(),this.#p36.M16()]}}class C3{#p31=null;#p46=0;#p29=null;#p7=null;#p2=null;#p1=null;#p13=0;#p14=0;#p15=null;#p39=null;#p30=null;#p3=0;#p55=100;constructor(t,i,s){this.#p31=t,this.#p13=i,this.#p14=s,t.appendChild(this.#p7=this.#P27("HealthLeft")),this.#p29=document.createElement("div"),this.#p29.id="Health",t.appendChild(this.#p29),t.appendChild(this.#p2=this.#P27("HealthRight")),this.#p15=document.createElement("div"),this.#p15.innerHTML="--",this.#p29.appendChild(this.#p15),this.#p1=document.createElement("div"),this.#p29.appendChild(this.#p1);i=document.createElement("div");this.#p29.appendChild(i),this.#p39=document.createElement("span"),this.#p39.innerHTML="R",this.#p30=document.createElement("span"),this.#p30.innerHTML="H",i.appendChild(this.#p39),i.appendChild(this.#p30)}M92(){this.#p46=this.#p3=this.#p14,this.#p1.innerHTML="",this.M84(!0),this.M88(!0),this.#P24()}M2(){this.#p1.innerHTML=""}#P27(t){var i=document.createElement("div"),t=(i.id=t,document.createElement("div"));return i.appendChild(t),i}f18(t,i){this.#p31.style.height=i+"px";i=Math.round(.4*t*.09);this.#p7.style.fontSize=i+"px",this.#p2.style.fontSize=i+"px"}M35(t){return this.#p46+=t,this.#p1.innerHTML=(0<t?"+":"")+t,this.#p46>this.#p14?this.#p46=this.#p14:this.#p46<this.#p13&&(this.#p46=this.#p13),this.#p3!==this.#p46&&setTimeout(this.#p16.bind(this),this.#p55),this.#p46}#p16=function(){this.#p3+=Math.sign(this.#p46-this.#p3),this.#P24(),this.#p3!==this.#p46&&setTimeout(this.#p16.bind(this),this.#p55)};#P24(){this.#p15.innerHTML=this.#p3;var t=Math.floor(this.#p3/this.#p14*100);g12("div",this.#p7).style.width=t+"%",g12("div",this.#p2).style.width=t+"%"}M88(t){this.#p39.classList[t?"remove":"add"]("Disabled")}M84(t){this.#p30.classList[t?"remove":"add"]("Disabled")}M65(){return this.#p46}}const k1=16/11;var REDS_MAX=10;const k17=5,k18=0,k0=g9("CARD_TRANSLATE_TIME",!0),k2=4,k9=20,k10=0,k4=0,k5=1,k3=2,k11=3,k12=4,k13=["hearts","spades","diamonds","clubs","joker"],k6=0,k14=11,k7=12,k15=13,k19=14,k20="Red",k8="Black",k21=[{id:k4,symbol:"&hearts;",color:k20},{id:k5,symbol:"&spades;",color:k8},{id:k3,symbol:"&diams;",color:k20},{id:k11,symbol:"&clubs;",color:k8},{id:k12,symbol:"",color:""}],k16=[{value:k14,symbol:"J"},{value:k7,symbol:"Q"},{value:k15,symbol:"K"},{value:k19,symbol:"A"},{value:k6,symbol:"&#x2605;"}];window.addEventListener("load",()=>{new C2});